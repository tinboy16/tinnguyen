"use strict";(self.webpackChunktinnguyen=self.webpackChunktinnguyen||[]).push([[8766],{5444:(n,e,c)=>{c.r(e),c.d(e,{assets:()=>t,contentTitle:()=>d,default:()=>a,frontMatter:()=>s,metadata:()=>i,toc:()=>h});var r=c(4848),o=c(8453);const s={},d="Tri\u1ec3n khai Django v\u1edbi MySQL s\u1eed d\u1ee5ng Docker",i={id:"Docker/django-mysql-docker",title:"Tri\u1ec3n khai Django v\u1edbi MySQL s\u1eed d\u1ee5ng Docker",description:"---",source:"@site/docs/Docker/django-mysql-docker.md",sourceDirName:"Docker",slug:"/Docker/django-mysql-docker",permalink:"/docs/Docker/django-mysql-docker",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Gi\u1edbi Thi\u1ec7u Container trong Docker",permalink:"/docs/Docker/container-trong-docker-la-gi"},next:{title:"docker-compose",permalink:"/docs/Docker/docker-compose"}},t={},h=[{value:"Chu\u1ea9n b\u1ecb",id:"chu\u1ea9n-b\u1ecb",level:2},{value:"B\u01b0\u1edbc 1: T\u1ea1o Dockerfile",id:"b\u01b0\u1edbc-1-t\u1ea1o-dockerfile",level:2},{value:"B\u01b0\u1edbc 2: T\u1ea1o t\u1ec7p docker-compose.yml",id:"b\u01b0\u1edbc-2-t\u1ea1o-t\u1ec7p-docker-composeyml",level:2},{value:"B\u01b0\u1edbc 3: T\u1ea1o t\u1ec7p requirements.txt",id:"b\u01b0\u1edbc-3-t\u1ea1o-t\u1ec7p-requirementstxt",level:2},{value:"B\u01b0\u1edbc 4: Tri\u1ec3n khai \u1ee9ng d\u1ee5ng",id:"b\u01b0\u1edbc-4-tri\u1ec3n-khai-\u1ee9ng-d\u1ee5ng",level:2},{value:"B\u01b0\u1edbc 5: C\u1ea5u h\xecnh Django settings.py",id:"b\u01b0\u1edbc-5-c\u1ea5u-h\xecnh-django-settingspy",level:2},{value:"B\u01b0\u1edbc 6: Migrate v\xe0 T\u1ea1o Superuser",id:"b\u01b0\u1edbc-6-migrate-v\xe0-t\u1ea1o-superuser",level:2},{value:"B\u01b0\u1edbc 7: Ch\u1ea1y \u1ee9ng d\u1ee5ng",id:"b\u01b0\u1edbc-7-ch\u1ea1y-\u1ee9ng-d\u1ee5ng",level:2},{value:"B\u01b0\u1edbc 8: Th\xeam service phpMyAdmin v\xe0o docker-compose.yml",id:"b\u01b0\u1edbc-8-th\xeam-service-phpmyadmin-v\xe0o-docker-composeyml",level:2},{value:"B\u01b0\u1edbc 9: Kh\u1edfi \u0111\u1ed9ng phpMyAdmin",id:"b\u01b0\u1edbc-9-kh\u1edfi-\u0111\u1ed9ng-phpmyadmin",level:2},{value:"B\u01b0\u1edbc 10: Truy c\u1eadp phpMyAdmin",id:"b\u01b0\u1edbc-10-truy-c\u1eadp-phpmyadmin",level:2}];function l(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.useMDXComponents)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"tri\u1ec3n-khai-django-v\u1edbi-mysql-s\u1eed-d\u1ee5ng-docker",children:"Tri\u1ec3n khai Django v\u1edbi MySQL s\u1eed d\u1ee5ng Docker"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"chu\u1ea9n-b\u1ecb",children:"Chu\u1ea9n b\u1ecb"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"C\xe0i \u0111\u1eb7t Docker v\xe0 Docker Compose"}),": \u0110\u1ea3m b\u1ea3o b\u1ea1n \u0111\xe3 c\xe0i \u0111\u1eb7t Docker v\xe0 Docker Compose tr\xean m\xe1y t\xednh c\u1ee7a m\xecnh."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"M\xe3 ngu\u1ed3n \u1ee9ng d\u1ee5ng Django"}),": Clone ho\u1eb7c t\u1ea3i m\xe3 ngu\u1ed3n \u1ee9ng d\u1ee5ng Django c\u1ee7a b\u1ea1n t\u1eeb kho l\u01b0u tr\u1eef."]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-1-t\u1ea1o-dockerfile",children:"B\u01b0\u1edbc 1: T\u1ea1o Dockerfile"}),"\n",(0,r.jsxs)(e.p,{children:["T\u1ea1o m\u1ed9t t\u1ec7p ",(0,r.jsx)(e.code,{children:"Dockerfile"})," trong th\u01b0 m\u1ee5c g\u1ed1c c\u1ee7a \u1ee9ng d\u1ee5ng Django v\u1edbi n\u1ed9i dung sau:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-dockerfile",children:"# Dockerfile\nFROM python:3.8\n\nENV PYTHONDONTWRITEBYTECODE 1\nENV PYTHONUNBUFFERED 1\n\nWORKDIR /app\n\nCOPY requirements.txt /app/\nRUN pip install --upgrade pip && pip install -r requirements.txt\n\nCOPY . /app/\n"})}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-2-t\u1ea1o-t\u1ec7p-docker-composeyml",children:"B\u01b0\u1edbc 2: T\u1ea1o t\u1ec7p docker-compose.yml"}),"\n",(0,r.jsxs)(e.p,{children:["T\u1ea1o m\u1ed9t t\u1ec7p ",(0,r.jsx)(e.code,{children:"docker-compose.yml"})," trong th\u01b0 m\u1ee5c g\u1ed1c v\u1edbi n\u1ed9i dung sau:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:"version: '3'\n\nservices:\n  web:\n    build: .\n    command: python manage.py runserver 0.0.0.0:8000\n    volumes:\n      - .:/app\n    ports:\n      - \"8000:8000\"\n    depends_on:\n      - db\n\n  db:\n    image: mysql:latest\n    environment:\n      MYSQL_DATABASE: 'your_db_name'\n      MYSQL_USER: 'your_db_user'\n      MYSQL_PASSWORD: 'your_db_password'\n      MYSQL_ROOT_PASSWORD: 'your_root_password'\n    ports:\n      - \"3306:3306\"\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Thay th\u1ebf ",(0,r.jsx)(e.code,{children:"your_db_name"}),", ",(0,r.jsx)(e.code,{children:"your_db_user"}),", ",(0,r.jsx)(e.code,{children:"your_db_password"}),", v\xe0 ",(0,r.jsx)(e.code,{children:"your_root_password"})," b\u1eb1ng th\xf4ng tin c\u1ea5u h\xecnh MySQL c\u1ee7a b\u1ea1n."]}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-3-t\u1ea1o-t\u1ec7p-requirementstxt",children:"B\u01b0\u1edbc 3: T\u1ea1o t\u1ec7p requirements.txt"}),"\n",(0,r.jsxs)(e.p,{children:["T\u1ea1o m\u1ed9t t\u1ec7p ",(0,r.jsx)(e.code,{children:"requirements.txt"})," trong th\u01b0 m\u1ee5c g\u1ed1c \u0111\u1ec3 li\u1ec7t k\xea t\u1ea5t c\u1ea3 c\xe1c th\u01b0 vi\u1ec7n c\u1ea7n thi\u1ebft cho Django:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-plaintext",children:"Django==5\nmysqlclient==2.0.3\n"})}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-4-tri\u1ec3n-khai-\u1ee9ng-d\u1ee5ng",children:"B\u01b0\u1edbc 4: Tri\u1ec3n khai \u1ee9ng d\u1ee5ng"}),"\n",(0,r.jsxs)(e.p,{children:["M\u1edf terminal v\xe0 di chuy\u1ec3n \u0111\u1ebfn th\u01b0 m\u1ee5c ch\u1ee9a ",(0,r.jsx)(e.code,{children:"Dockerfile"})," v\xe0 ",(0,r.jsx)(e.code,{children:"docker-compose.yml"}),", sau \u0111\xf3 ch\u1ea1y l\u1ec7nh sau:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker-compose up --build\n"})}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-5-c\u1ea5u-h\xecnh-django-settingspy",children:"B\u01b0\u1edbc 5: C\u1ea5u h\xecnh Django settings.py"}),"\n",(0,r.jsxs)(e.p,{children:["M\u1edf t\u1ec7p ",(0,r.jsx)(e.code,{children:"settings.py"})," trong th\u01b0 m\u1ee5c ",(0,r.jsx)(e.code,{children:"your_project_name"})," c\u1ee7a \u1ee9ng d\u1ee5ng Django v\xe0 c\u1eadp nh\u1eadt c\xe1c thi\u1ebft l\u1eadp c\u01a1 s\u1edf d\u1eef li\u1ec7u."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"# settings.py\n\n# ...\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'your_db_name',\n        'USER': 'your_db_user',\n        'PASSWORD': 'your_db_password',\n        'HOST': 'db',\n        'PORT': '3306',\n    }\n}\n\n# ...\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Ch\u1eafc ch\u1eafn r\u1eb1ng b\u1ea1n \u0111\xe3 thay th\u1ebf ",(0,r.jsx)(e.code,{children:"your_db_name"}),", ",(0,r.jsx)(e.code,{children:"your_db_user"}),", v\xe0 ",(0,r.jsx)(e.code,{children:"your_db_password"})," b\u1eb1ng th\xf4ng tin c\u1ea5u h\xecnh MySQL t\u01b0\u01a1ng \u1ee9ng m\xe0 b\u1ea1n \u0111\xe3 \u0111\u1eb7t trong t\u1ec7p ",(0,r.jsx)(e.code,{children:"docker-compose.yml"}),"."]}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-6-migrate-v\xe0-t\u1ea1o-superuser",children:"B\u01b0\u1edbc 6: Migrate v\xe0 T\u1ea1o Superuser"}),"\n",(0,r.jsx)(e.p,{children:"Sau khi c\u1eadp nh\u1eadt c\u1ea5u h\xecnh c\u01a1 s\u1edf d\u1eef li\u1ec7u, ch\xfang ta c\u1ea7n ch\u1ea1y c\xe1c l\u1ec7nh migrate \u0111\u1ec3 t\u1ea1o b\u1ea3ng trong c\u01a1 s\u1edf d\u1eef li\u1ec7u:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker-compose exec web python manage.py migrate\n"})}),"\n",(0,r.jsx)(e.p,{children:"Sau \u0111\xf3, t\u1ea1o m\u1ed9t superuser \u0111\u1ec3 c\xf3 quy\u1ec1n truy c\u1eadp v\xe0o trang qu\u1ea3n tr\u1ecb Django:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker-compose exec web python manage.py createsuperuser\n"})}),"\n",(0,r.jsx)(e.p,{children:"Nh\u1eadp th\xf4ng tin c\u1ea7n thi\u1ebft khi \u0111\u01b0\u1ee3c h\u1ecfi."}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-7-ch\u1ea1y-\u1ee9ng-d\u1ee5ng",children:"B\u01b0\u1edbc 7: Ch\u1ea1y \u1ee9ng d\u1ee5ng"}),"\n",(0,r.jsx)(e.p,{children:"Sau khi \u0111\xe3 c\u1ea5u h\xecnh xong, h\xe3y kh\u1edfi \u0111\u1ed9ng l\u1ea1i \u1ee9ng d\u1ee5ng Django:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker-compose up\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Truy c\u1eadp ",(0,r.jsx)(e.a,{href:"http://localhost:8000/admin",children:"http://localhost:8000/admin"})," v\xe0 \u0111\u0103ng nh\u1eadp b\u1eb1ng t\xe0i kho\u1ea3n superuser b\u1ea1n \u0111\xe3 t\u1ea1o \u0111\u1ec3 ki\u1ec3m tra trang qu\u1ea3n tr\u1ecb Django."]}),"\n",(0,r.jsx)(e.p,{children:"B\xe2y gi\u1edd, \u1ee9ng d\u1ee5ng Django c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c tri\u1ec3n khai s\u1eed d\u1ee5ng MySQL th\xf4ng qua Docker. Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 ho\xe0n th\xe0nh qu\xe1 tr\xecnh tri\u1ec3n khai!"}),"\n",(0,r.jsx)(e.h1,{id:"h\u01b0\u1edbng-d\u1eabn-th\xeam-phpmyadmin-cho-mysql-trong-docker-compose",children:"H\u01b0\u1edbng d\u1eabn Th\xeam phpMyAdmin cho MySQL trong Docker Compose"}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-8-th\xeam-service-phpmyadmin-v\xe0o-docker-composeyml",children:"B\u01b0\u1edbc 8: Th\xeam service phpMyAdmin v\xe0o docker-compose.yml"}),"\n",(0,r.jsxs)(e.p,{children:["M\u1edf t\u1ec7p ",(0,r.jsx)(e.code,{children:"docker-compose.yml"})," v\xe0 th\xeam service phpMyAdmin nh\u01b0 sau:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:"version: '3'\n\nservices:\n  web:\n    build: .\n    command: python manage.py runserver 0.0.0.0:8000\n    volumes:\n      - .:/app\n    ports:\n      - \"8000:8000\"\n    depends_on:\n      - db\n\n  db:\n    image: mysql:latest\n    environment:\n      MYSQL_DATABASE: 'your_db_name'\n      MYSQL_USER: 'your_db_user'\n      MYSQL_PASSWORD: 'your_db_password'\n      MYSQL_ROOT_PASSWORD: 'your_root_password'\n    ports:\n      - \"3306:3306\"\n\n  phpmyadmin:\n    image: phpmyadmin/phpmyadmin\n    environment:\n      PMA_ARBITRARY: 1\n      PMA_HOST: db\n      PMA_USER: 'your_db_user'\n      PMA_PASSWORD: 'your_db_password'\n    ports:\n      - \"8080:80\"\n    depends_on:\n      - db\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Ch\u1eafc ch\u1eafn r\u1eb1ng b\u1ea1n \u0111\xe3 thay th\u1ebf ",(0,r.jsx)(e.code,{children:"your_db_user"})," v\xe0 ",(0,r.jsx)(e.code,{children:"your_db_password"})," b\u1eb1ng th\xf4ng tin c\u1ea5u h\xecnh MySQL t\u01b0\u01a1ng \u1ee9ng m\xe0 b\u1ea1n \u0111\xe3 \u0111\u1eb7t trong service db."]}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-9-kh\u1edfi-\u0111\u1ed9ng-phpmyadmin",children:"B\u01b0\u1edbc 9: Kh\u1edfi \u0111\u1ed9ng phpMyAdmin"}),"\n",(0,r.jsx)(e.p,{children:"Ch\u1ea1y l\u1ea1i Docker Compose \u0111\u1ec3 tri\u1ec3n khai phpMyAdmin c\xf9ng v\u1edbi MySQL:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"docker-compose up --build\n"})}),"\n",(0,r.jsx)(e.h2,{id:"b\u01b0\u1edbc-10-truy-c\u1eadp-phpmyadmin",children:"B\u01b0\u1edbc 10: Truy c\u1eadp phpMyAdmin"}),"\n",(0,r.jsxs)(e.p,{children:["M\u1edf tr\xecnh duy\u1ec7t v\xe0 truy c\u1eadp ",(0,r.jsx)(e.a,{href:"http://localhost:8080",children:"http://localhost:8080"}),". \u0110\u0103ng nh\u1eadp b\u1eb1ng th\xf4ng tin c\u1ea5u h\xecnh MySQL, v\xe0 b\u1ea1n s\u1ebd c\xf3 th\u1ec3 qu\u1ea3n l\xfd c\u01a1 s\u1edf d\u1eef li\u1ec7u c\u1ee7a m\xecnh th\xf4ng qua giao di\u1ec7n th\xe2n thi\u1ec7n c\u1ee7a phpMyAdmin."]}),"\n",(0,r.jsx)(e.p,{children:"B\xe2y gi\u1edd, b\u1ea1n \u0111\xe3 t\xedch h\u1ee3p th\xe0nh c\xf4ng phpMyAdmin v\xe0o Docker Compose c\u1ee7a m\xecnh \u0111\u1ec3 qu\u1ea3n l\xfd c\u01a1 s\u1edf d\u1eef li\u1ec7u MySQL. Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 ho\xe0n th\xe0nh qu\xe1 tr\xecnh tri\u1ec3n khai v\xe0 qu\u1ea3n l\xfd \u1ee9ng d\u1ee5ng Django c\u1ee7a m\xecnh!"})]})}function a(n={}){const{wrapper:e}={...(0,o.useMDXComponents)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(l,{...n})}):l(n)}},8453:(n,e,c)=>{c.r(e),c.d(e,{MDXProvider:()=>i,useMDXComponents:()=>d});var r=c(6540);const o={},s=r.createContext(o);function d(n){const e=r.useContext(s);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:d(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);